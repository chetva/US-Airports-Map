<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>US Airports</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.0/dist/leaflet.css" />
  <style>
    html,
    body,
    #map {
      width: 100%;
      height: 100%;
      margin: 0;
      background: #fff;
    }
  </style>
  <script src="https://unpkg.com/leaflet@1.7.0/dist/leaflet.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chroma-js/1.3.4/chroma.min.js"></script>
</head>

<body>
  <!-- Our web map and content will go here -->
  <div id="map"></div>
  <script>
    // 1. Create a map object.
    var mymap = L.map('map', {
      center: [39.50, -98.35],
      zoom: 3.5,
      detectRetina: true // detect whether the sceen is high resolution or not.
    });

    // 2. Add a base map.
    L.tileLayer('http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png').addTo(mymap);
    // 3. Add cell towers GeoJSON Data
    // Null variable that will hold cell tower data
    var airports = null;
    // Get GeoJSON and put on it on the map when it loads
    airports = L.geoJson.ajax("assets/airports.geojson", {

      onEachFeature: function(feature, layer) {
        layer.bindPopup(feature.properties.AIRPT_NAME);
        return feature.properties.STATE;
      },
      pointToLayer: function(feature, latlng) {
        var id = 0;
        if (feature.properties.CNTL_TWR == "Y") {
          id = 0;

        } else {
          id = 12;
        } // "Yakima MSA limited partnership"
        return L.marker(latlng, {
          icon: L.divIcon({
            className: 'fas fa-plane marker-color-' + (id + 1).toString()
          })
        });
      },
      attribution: 'Airport Data &copy; HIFLD | US States &copy; Washington Data & Research | Base Map &copy; CartoDB | Made By Abriana Chet'


    });
    airports.addTo(mymap);
    // assign a function to the onEachFeature parameter of the cellTowers object.
// Then each (point) feature will bind a popup window.
// The content of the popup window is the value of `feature.properties.company`



  </script>
</body>

</html>
